–î–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –±–µ—Ä—ë–º —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–∞–Ω–Ω—ã—Ö. –ú–∏–Ω–∏–º—É–º –º–∏–ª–ª–∏–æ–Ω –∑–∞–ø–∏—Å–µ–π, –∏–Ω–∞—á–µ —ç—Ñ—Ñ–µ–∫—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –Ω–µ –±—É–¥–µ—Ç –∑–∞–º–µ—Ç–µ–Ω.

–ü—Ä–æ–≥–æ–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ EXPLAIN ANALYZE:

EXPLAIN ANALYZE SELECT * FROM users where name = ‚ÄôK‚Äô;

EXPLAIN –ø–∏—à–µ—Ç —Ç–æ–ª—å–∫–æ –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞. EXPLAIN ANALYZE –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç

‚ñ™Ô∏è planning time ‚Äî –≤—Ä–µ–º—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
‚ñ™Ô∏è execution time ‚Äî –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞. –†–∞–±–æ—Ç–∞–µ–º —Å —ç—Ç–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º

–ú–æ–∂–Ω–æ –ø–æ–∏–≥—Ä–∞—Ç—å —Å —É—Å–ª–æ–≤–∏—è–º–∏, –ø–æ—Ä—è–¥–∫–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏ —Ä–∞–∑–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–ø–æ—Å–æ–± –æ–±—Ö–æ–¥–∞ —Ç–∞–±–ª–∏—Ü—ã:

Index Scan using name_index on  ‚Äî –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å, –∏ —ç—Ç–æ –æ—Ç–ª–∏—á–Ω–æ

Seq Scan on –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–æ–ª–≥–∏–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –æ–±—Ö–æ–¥ —Ç–∞–±–ª–∏—Ü—ã. –ü—Ä–∏—á–∏–Ω–æ–π –º–æ–∂–µ—Ç –±—ã—Ç—å
üî∏ –ø–æ–∏—Å–∫ –ø–æ —É—Å–ª–æ–≤–∏—é (where name = ‚Ä¶)
üî∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª—è
üî∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞ (foreign key)

–†–µ—à–µ–Ω–∏–µ –∑–¥–µ—Å—å –ø—Ä–æ—Å—Ç–æ–µ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å –ø–æ –ø—Ä–æ–±–ª–µ–º–Ω–æ–º—É –ø–æ–ª—é. –ë–∞–∑–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

CREATE INDEX index_name ON users(name);

–î–∞–ª—å—à–µ –≤—Å—ë –ø—Ä–æ—Å—Ç–æ:

‚ñ´Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å EXPLAIN ANALYZE
‚ñ´Ô∏è –£–≤–∏–¥–µ—Ç—å –≤ –ø–ª–∞–Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å
‚ñ´Ô∏è –ü–æ—Ä–∞–¥–æ–≤–∞—Ç—å—Å—è —Å–Ω–∏–∂–µ–Ω–∏—é execution time

–î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∏ —Ç—è–∂—ë–ª—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –æ–ø—Ä–∞–≤–¥–∞–Ω–æ. –†–∞–∑—É–º–µ–µ—Ç—Å—è, –Ω–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –≤—Å–µ—Ö —É—Å–ª–æ–≤–∏–π. –ò–Ω–¥–µ–∫—Å—ã –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –∏ –∑–∞–º–µ–¥–ª—è—é—Ç –∑–∞–ø–∏—Å—å –≤ –±–∞–∑—É.

–í –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω—é–∞–Ω—Å–æ–≤, –Ω–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–∞–µ—Ç—Å—è –∫—ç—à–µ–º –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∏–Ω–¥–µ–∫—Å–∞. –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Å–ª—É—á–∞–∏ –ª—É—á—à–µ –æ–±—Å—É–∂–¥–∞—Ç—å —Å –∫–æ–ª–ª–µ–≥–∞–º–∏ DBA